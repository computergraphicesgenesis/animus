<!-- Copyright 2010 Robert Scott Dionne. All Rights Reserved. -->
<html>
  <head>
  <script src="../closure-library/closure/goog/base.js"
      type="application/javascript"></script>
    <script src="deps.js" type="application/javascript"></script>
    <script type="application/javascript">
      goog.require('animus');
      goog.require('animus.Quaternion');
    </script>
    <script id="a" type="application/json">
      {
        "character": [
          {
            "id": 1,
            "skeletonId": 2,
            "meshId": [3, 4],
            "clipId": [5]
          }
        ],
        "mesh": [
          {
            "id": 3,
            "vertex": [
              {
                "position": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                },
                "jointIndex": [0],
                "jointWeight": [1]
              },
              {
                "position": {
                  "x": 0,
                  "y": 1,
                  "z": 0
                },
                "jointIndex": [1],
                "jointWeight": [1]
              }
            ]
          },
          {
            "id": 4,
            "vertex": [
              {
                "position": {
                  "x": 0,
                  "y": 0,
                  "z": 0
                },
                "jointIndex": [0],
                "jointWeight": [1]
              },
              {
                "position": {
                  "x": 1,
                  "y": 0,
                  "z": 0
                },
                "jointIndex": [1],
                "jointWeight": [1]
              }
            ]
          }
        ],
        "skeleton": [
          {
            "id": 2,
            "joint": [
              {
                "inverseBindPose": {
                  "rotation": {
                    "imaginary": {}
                  },
                  "translation": {
                    "x": 0,
                    "y": 0,
                    "z": 0
                  }
                }
              },
              {
                "inverseBindPose": {
                  "rotation": {
                    "imaginary": {}
                  },
                  "translation": {
                    "x": 0,
                    "y": 1,
                    "z": 0
                  }
                },
                "parentIndex": 0
              }
            ]
          }
        ],
        "clip": [
          {
            "id": 5,
            "duration": 1,
            "poseSample": [
              {
                "jointPose": [ {
                    "rotation": {
                      "imaginary": {}
                    },
                    "translation": {
                      "x": 0,
                      "y": 0,
                      "z": 0
                    }
                  },
                  {
                    "rotation": {
                      "imaginary": {}
                    },
                    "translation": {
                      "x": 0,
                      "y": 0,
                      "z": 0
                    }
                  }
                ]
              },
              {
                "jointPose": [
                  {
                    "rotation": {
                      "imaginary": {}
                    },
                    "translation": {
                      "x": 0,
                      "y": 0,
                      "z": 0
                    }
                  },
                  {
                    "rotation": {
                      "imaginary": {}
                    },
                    "translation": {
                      "x": 0,
                      "y": 0,
                      "z": 0
                    }
                  }
                ]
              }
            ],
            "poseStartTime": [0, 0.5]
          }
        ]
      }
    </script>
    <script id="v" type="x-shader/x-vertex">
      uniform vec4 rotationPalette[16];
      uniform vec3 translationPalette[16];
      attribute vec3 position;
      attribute vec4 jointIndices;
      attribute vec4 jointWeights;
      void main() {
        gl_Position = vec4(position, 1.0);
      }
    </script>
    <script id="f" type="x-shader/x-fragment">
      void main() {
        gl_FragColor = vec4(1);
      }
    </script>
  </head>
  <body onload="animus.load();">
    <canvas id="c"></canvas>
  </body>
</html>
